{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\licos\\\\Desktop\\\\projects\\\\shop_online\\\\client\\\\src\\\\pages\\\\Shop.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport GenderBar from '../components/GenderBar';\nimport TypeBar from '../components/TypeBar';\nimport ProductList from '../components/ProductList';\nimport { observer } from 'mobx-react-lite';\nimport { Context } from '..';\nimport { fetchGenders, fetchTypes, fetchProducts, fetchProperties } from '../http/productAPI';\nimport Pages from '../components/Pages';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ShopPage = observer(_c = _s(() => {\n  _s();\n\n  const {\n    product\n  } = useContext(Context);\n  const [currentPage, setCurrenctPage] = useState(1);\n  useEffect(() => {\n    fetchTypes().then(data => product.setTypes(data));\n    fetchGenders().then(data => product.setGenders(data));\n    fetchProperties().then(data => product.setProperties(data));\n    fetchProducts(null, null, product.limit, currentPage).then(data => {\n      product.setProducts(data.rows);\n      product.setTotalCount(data.count);\n    });\n  }, []);\n  useEffect(() => {\n    fetchProducts(product.selectedType.id, product.selectedGender.id, product.limit, product.page).then(data => {\n      product.setProducts(data.rows);\n      product.setTotalCount(data.count);\n    });\n  }, [product.page, product.selectedType, product.selectedGender]); //add Pages later\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mt-2\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(TypeBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 9,\n        children: [/*#__PURE__*/_jsxDEV(GenderBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProductList, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 6\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 4\n  }, this);\n}, \"H43PhiuJfcRxTD24g3itBY8p9D8=\"));\n_c2 = ShopPage;\nexport default ShopPage;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ShopPage$observer\");\n$RefreshReg$(_c2, \"ShopPage\");","map":{"version":3,"sources":["C:/Users/licos/Desktop/projects/shop_online/client/src/pages/Shop.js"],"names":["React","useContext","useEffect","useState","Container","Row","Col","GenderBar","TypeBar","ProductList","observer","Context","fetchGenders","fetchTypes","fetchProducts","fetchProperties","Pages","ShopPage","product","currentPage","setCurrenctPage","then","data","setTypes","setGenders","setProperties","limit","setProducts","rows","setTotalCount","count","selectedType","id","selectedGender","page"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,GAAzB,QAAmC,iBAAnC;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,SAASC,QAAT,QAAyB,iBAAzB;AACA,SAASC,OAAT,QAAwB,IAAxB;AACA,SAASC,YAAT,EAAuBC,UAAvB,EAAmCC,aAAnC,EAAkDC,eAAlD,QAAyE,oBAAzE;AACA,OAAOC,KAAP,MAAkB,qBAAlB;;AAEA,MAAMC,QAAQ,GAAGP,QAAQ,SAAC,MAAM;AAAA;;AAE9B,QAAM;AAACQ,IAAAA;AAAD,MAAYjB,UAAU,CAACU,OAAD,CAA5B;AACA,QAAM,CAACQ,WAAD,EAAcC,eAAd,IAAiCjB,QAAQ,CAAC,CAAD,CAA/C;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,UAAU,GAAGQ,IAAb,CAAkBC,IAAI,IAAIJ,OAAO,CAACK,QAAR,CAAiBD,IAAjB,CAA1B;AACAV,IAAAA,YAAY,GAAGS,IAAf,CAAoBC,IAAI,IAAIJ,OAAO,CAACM,UAAR,CAAmBF,IAAnB,CAA5B;AACAP,IAAAA,eAAe,GAAGM,IAAlB,CAAuBC,IAAI,IAAIJ,OAAO,CAACO,aAAR,CAAsBH,IAAtB,CAA/B;AACAR,IAAAA,aAAa,CAAC,IAAD,EAAO,IAAP,EAAaI,OAAO,CAACQ,KAArB,EAA4BP,WAA5B,CAAb,CAAsDE,IAAtD,CAA2DC,IAAI,IAAI;AACjEJ,MAAAA,OAAO,CAACS,WAAR,CAAoBL,IAAI,CAACM,IAAzB;AACAV,MAAAA,OAAO,CAACW,aAAR,CAAsBP,IAAI,CAACQ,KAA3B;AACD,KAHD;AAID,GARQ,EAQN,EARM,CAAT;AAUA5B,EAAAA,SAAS,CAAC,MAAM;AACdY,IAAAA,aAAa,CAACI,OAAO,CAACa,YAAR,CAAqBC,EAAtB,EAA0Bd,OAAO,CAACe,cAAR,CAAuBD,EAAjD,EAAqDd,OAAO,CAACQ,KAA7D,EAAoER,OAAO,CAACgB,IAA5E,CAAb,CAA+Fb,IAA/F,CAAoGC,IAAI,IAAI;AAC1GJ,MAAAA,OAAO,CAACS,WAAR,CAAoBL,IAAI,CAACM,IAAzB;AACAV,MAAAA,OAAO,CAACW,aAAR,CAAsBP,IAAI,CAACQ,KAA3B;AACH,KAHC;AAGC,GAJM,EAIJ,CAACZ,OAAO,CAACgB,IAAT,EAAehB,OAAO,CAACa,YAAvB,EAAqCb,OAAO,CAACe,cAA7C,CAJI,CAAT,CAf8B,CAqB9B;;AACA,sBACC,QAAC,SAAD;AAAA,2BACE,QAAC,GAAD;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,8BACE,QAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAA,+BACG,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,cADF,eAIE,QAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAA,gCACG,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,gBADH,eAEG,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,gBAFH;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADD;AAcD,CApCwB,kCAAzB;MAAMhB,Q;AAsCN,eAAeA,QAAf","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport { Container, Row, Col} from 'react-bootstrap';\r\nimport GenderBar from '../components/GenderBar';\r\nimport TypeBar from '../components/TypeBar'\r\nimport ProductList from '../components/ProductList'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { Context } from '..'\r\nimport { fetchGenders, fetchTypes, fetchProducts, fetchProperties } from '../http/productAPI';\r\nimport Pages from '../components/Pages';\r\n\r\nconst ShopPage = observer(() => {\r\n\r\n  const {product} = useContext(Context)\r\n  const [currentPage, setCurrenctPage] = useState(1)\r\n\r\n  useEffect(() => {\r\n    fetchTypes().then(data => product.setTypes(data))\r\n    fetchGenders().then(data => product.setGenders(data))\r\n    fetchProperties().then(data => product.setProperties(data))\r\n    fetchProducts(null, null, product.limit, currentPage).then(data => {\r\n      product.setProducts(data.rows)\r\n      product.setTotalCount(data.count)\r\n    })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    fetchProducts(product.selectedType.id, product.selectedGender.id, product.limit, product.page).then(data => {\r\n      product.setProducts(data.rows)\r\n      product.setTotalCount(data.count)\r\n  })}, [product.page, product.selectedType, product.selectedGender])\r\n\r\n  //add Pages later\r\n  return (\r\n   <Container>\r\n     <Row className=\"mt-2\">\r\n       <Col md={3}>\r\n          <TypeBar />\r\n       </Col>\r\n       <Col md={9}>\r\n          <GenderBar />\r\n          <ProductList />\r\n         \r\n       </Col>\r\n     </Row>\r\n   </Container>\r\n  )\r\n})\r\n\r\nexport default ShopPage;"]},"metadata":{},"sourceType":"module"}